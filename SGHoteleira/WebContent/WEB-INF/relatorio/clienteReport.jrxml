<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Arial" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<parameter name="cliente" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dataEntrada" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dataSaida" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="user" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     utilizador.`username` as utilizador_username,
     cliente.`idCliente` AS cliente_idCliente,
     cliente.`apelido` AS cliente_apelido,
     cliente.`caixaPostal` AS cliente_caixaPostal,
     Date_Format(cliente.`dataNascimento`,'%Y-%m-%d') AS cliente_dataNascimento,
     cliente.`email` AS cliente_email,
     cliente.`morada` AS cliente_morada,
     cliente.`nacionalidade` AS cliente_nacionalidade,
     cliente.`nome` AS cliente_nome,
     cliente.`numeroDocumento` AS cliente_numeroDocumento,
     cliente.`telefone` AS cliente_telefone,
     cliente.`tipoDocumento` AS cliente_tipoDocumento,
     quarto.`idQuarto` AS quarto_idQuarto,
     quarto.`discricaoQuarto` AS quarto_discricaoQuarto,
     quarto.`numeroQuarto` AS quarto_numeroQuarto,
     quarto.`precoQuarto` AS quarto_precoQuarto,
     quarto.`tipoQuarto` AS quarto_tipoQuarto,
     linhaocupacao.`idLinha` AS linhaocupacao_idLinha,
     Date_Format(linhaocupacao.`dataEntrada`,'%Y-%m-%d') AS linhaocupacao_dataEntrada,
     Date_Format(linhaocupacao.`dataSaida`,'%Y-%m-%d') AS linhaocupacao_dataSaida,
     to_days(linhaocupacao.`dataSaida`) - to_days(linhaocupacao.`dataEntrada`)as diferenca,
     linhaocupacao.`estado` AS linhaocupacao_estado,
     Time_Format(linhaocupacao.`horaEntrada`,'%T %p') AS linhaocupacao_horaEntrada,
     linhaocupacao.`precoQuarto` AS linhaocupacao_precoQuarto,
     linhaocupacao.`quarto_idQuarto` AS linhaocupacao_quarto_idQuarto,
     linhaocupacao.`id_ocupacao` AS linhaocupacao_id_ocupacao,
     ocupacao.`id` AS ocupacao_id,
     ocupacao.`tipoPagamento` AS ocupacao_tipoPagamento,
     ocupacao.`total` AS ocupacao_total,
     (ocupacao.`valorPago` - ocupacao.`total`) AS saldo ,
     ocupacao.`cliente_idCliente` AS ocupacao_cliente_idCliente
FROM
     `quarto` quarto INNER JOIN `linhaocupacao` linhaocupacao ON quarto.`idQuarto` = linhaocupacao.`quarto_idQuarto`
     INNER JOIN `ocupacao` ocupacao ON linhaocupacao.`id_ocupacao` = ocupacao.`id`
     INNER JOIN `cliente` cliente ON ocupacao.`cliente_idCliente` = cliente.`idCliente` inner join utilizador
Where cliente.`idCliente`=$P{cliente} AND linhaocupacao.`dataEntrada`=$P{dataEntrada} AND linhaocupacao.`dataSaida`=$P{dataSaida} AND utilizador.idUtilizador=$P{user}]]>
	</queryString>
	<field name="utilizador_username" class="java.lang.String"/>
	<field name="cliente_idCliente" class="java.lang.Integer"/>
	<field name="cliente_apelido" class="java.lang.String"/>
	<field name="cliente_caixaPostal" class="java.lang.String"/>
	<field name="cliente_dataNascimento" class="java.lang.String"/>
	<field name="cliente_email" class="java.lang.String"/>
	<field name="cliente_morada" class="java.lang.String"/>
	<field name="cliente_nacionalidade" class="java.lang.String"/>
	<field name="cliente_nome" class="java.lang.String"/>
	<field name="cliente_numeroDocumento" class="java.lang.String"/>
	<field name="cliente_telefone" class="java.lang.Integer"/>
	<field name="cliente_tipoDocumento" class="java.lang.String"/>
	<field name="quarto_idQuarto" class="java.lang.Integer"/>
	<field name="quarto_discricaoQuarto" class="java.lang.String"/>
	<field name="quarto_numeroQuarto" class="java.lang.Integer"/>
	<field name="quarto_precoQuarto" class="java.lang.Double"/>
	<field name="quarto_tipoQuarto" class="java.lang.String"/>
	<field name="linhaocupacao_idLinha" class="java.lang.Integer"/>
	<field name="linhaocupacao_dataEntrada" class="java.lang.String"/>
	<field name="linhaocupacao_dataSaida" class="java.lang.String"/>
	<field name="diferenca" class="java.lang.Long"/>
	<field name="linhaocupacao_estado" class="java.lang.String"/>
	<field name="linhaocupacao_horaEntrada" class="java.lang.String"/>
	<field name="linhaocupacao_precoQuarto" class="java.lang.Double"/>
	<field name="linhaocupacao_quarto_idQuarto" class="java.lang.Integer"/>
	<field name="linhaocupacao_id_ocupacao" class="java.lang.Integer"/>
	<field name="ocupacao_id" class="java.lang.Integer"/>
	<field name="ocupacao_tipoPagamento" class="java.lang.String"/>
	<field name="ocupacao_total" class="java.lang.Double"/>
	<field name="saldo" class="java.lang.Double"/>
	<field name="ocupacao_cliente_idCliente" class="java.lang.Integer"/>
	<group name="cliente_apelido">
		<groupExpression><![CDATA[$F{cliente_apelido}]]></groupExpression>
		<groupHeader>
			<band height="38">
				<textField>
					<reportElement style="SubTitle" x="213" y="13" width="148" height="24" forecolor="#CC0000"/>
					<box>
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{cliente_apelido}]]></textFieldExpression>
				</textField>
				<rectangle>
					<reportElement mode="Opaque" x="0" y="13" width="36" height="24" forecolor="#CCCCCC" backcolor="#CCCCCC"/>
				</rectangle>
				<staticText>
					<reportElement x="48" y="17" width="137" height="20"/>
					<textElement>
						<font fontName="Arial" size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Apelido / Surname:]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="39">
				<staticText>
					<reportElement x="36" y="0" width="127" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Assinatura do cliente ]]></text>
				</staticText>
				<line>
					<reportElement x="11" y="37" width="165" height="1"/>
				</line>
				<staticText>
					<reportElement x="326" y="0" width="157" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Assinatura da Guest House]]></text>
				</staticText>
				<line>
					<reportElement x="295" y="36" width="204" height="1"/>
				</line>
			</band>
		</groupFooter>
	</group>
	<group name="cliente_nome">
		<groupExpression><![CDATA[$F{cliente_nome}]]></groupExpression>
		<groupHeader>
			<band height="210">
				<textField>
					<reportElement style="SubTitle" x="226" y="0" width="146" height="20"/>
					<textElement>
						<font size="16" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{cliente_nome}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="0" width="100" height="20"/>
					<textElement>
						<font fontName="Arial" size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Nome / Name:]]></text>
				</staticText>
				<staticText>
					<reportElement x="48" y="20" width="111" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Nº BI / ID Number: ]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="20" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_numeroDocumento}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="40" width="100" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Morada / Adress: ]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="40" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_morada}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="58" width="149" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Código Postal / Postcode:-]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="57" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_caixaPostal}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="77" width="128" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Telefone / Telephone:]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="76" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_telefone}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="97" width="100" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Date of Birth: ]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="96" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_dataNascimento}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="115" width="165" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Nacionalidade / Nacionality: ]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="117" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_nacionalidade}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="48" y="135" width="100" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[E-mail:	]]></text>
				</staticText>
				<textField>
					<reportElement x="226" y="135" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{cliente_email}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="226" y="171" width="135" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Total a pagar/Payment: ]]></text>
				</staticText>
				<textField>
					<reportElement x="367" y="171" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{ocupacao_total}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="226" y="190" width="100" height="20"/>
					<textElement>
						<font fontName="Arial" size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Saldo:]]></text>
				</staticText>
				<textField>
					<reportElement x="367" y="190" width="100" height="20"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{saldo}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="201" splitType="Stretch">
			<staticText>
				<reportElement style="Title" x="124" y="80" width="359" height="33"/>
				<textElement verticalAlignment="Middle">
					<font size="18"/>
				</textElement>
				<text><![CDATA[Cartão de Registo / Registration Card]]></text>
			</staticText>
			<staticText>
				<reportElement x="148" y="113" width="113" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Quarto/Room Nr : ]]></text>
			</staticText>
			<textField>
				<reportElement x="261" y="113" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{quarto_numeroQuarto}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="148" y="133" width="113" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Chegada/ Arrival : ]]></text>
			</staticText>
			<textField>
				<reportElement x="261" y="133" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{linhaocupacao_dataEntrada}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="148" y="153" width="197" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Hora da Chegada / Arrival Time :]]></text>
			</staticText>
			<staticText>
				<reportElement x="148" y="173" width="113" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Partida/Departure : ]]></text>
			</staticText>
			<textField>
				<reportElement x="261" y="173" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{linhaocupacao_dataSaida}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="138" y="0" width="345" height="37"/>
				<textElement>
					<font fontName="Edwardian Script ITC" size="28" isBold="true"/>
				</textElement>
				<text><![CDATA[ Lidia's Place Guest House]]></text>
			</staticText>
			<staticText>
				<reportElement x="228" y="37" width="166" height="43"/>
				<textElement>
					<font fontName="Edwardian Script ITC" size="28" isBold="true"/>
				</textElement>
				<text><![CDATA[A Place to be]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="193" width="555" height="2"/>
			</line>
			<textField>
				<reportElement x="345" y="153" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{linhaocupacao_horaEntrada}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="0" width="124" height="68"/>
				<imageExpression><![CDATA["C:\\Users\\Administrator.Anja-PC\\Documents\\NetBeansProjects\\SGGuestHouse\\src\\Relatorio\\guest.jpg"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="394" y="173" width="105" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Total de Noites:]]></text>
			</staticText>
			<textField>
				<reportElement x="499" y="173" width="56" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{diferenca}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="37" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="35" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="111" y="4" width="402" height="30"/>
				<textElement>
					<font fontName="Edwardian Script ITC" size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[Dados do  Cliente/Costumer Information ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="111" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="15" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</detail>
	<columnFooter>
		<band height="46" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="3" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="0" y="4" width="176" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true" isItalic="true"/>
				</textElement>
				<text><![CDATA[Processado por Computador]]></text>
			</staticText>
			<staticText>
				<reportElement x="306" y="4" width="66" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Criado por:]]></text>
			</staticText>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement style="Column header" x="0" y="25" width="197" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Column header" x="433" y="25" width="80" height="20"/>
				<textElement textAlignment="Right">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="Column header" x="515" y="25" width="40" height="20"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="43" width="555" height="1"/>
			</line>
			<textField>
				<reportElement x="372" y="3" width="183" height="20"/>
				<textElement>
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{utilizador_username}]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="40" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="20"/>
				<textElement>
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[Rua das Palmeiras, entre a Escola Portuguesa e Mercado do Peixe, lsoares1964@tvcabo.co.mz – lsp.guesthouse@tvcabo.co.mz]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="18" width="555" height="20"/>
				<textElement>
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[lsp.guesthouse@tvcabo.co.mz – tlf. 21 493939 – 825174101 - 845581147]]></text>
			</staticText>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
